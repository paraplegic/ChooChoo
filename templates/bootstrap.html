<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{ app }} version: {{ version }}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>
<body>

	<nav class="navbar navbar-inverse">
		<div class="container-fluid">

			<div>
				<ul class="nav navbar-nav">
					<li class="dropdown active">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Navigation <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="{{url_for('index')}}">Home</a> </li>
							<li><a href="{{url_for('register')}}">Register</a> </li>
							<li><a href="/login">Login</a> </li>
							<li><a href="{{url_for('logout')}}">Logout</a> </li>
							<li><a href="#">Servos</a> </li>
							<li><a href="#">Turnouts</a> </li>
							<li><a href="{{url_for('turnout')}}">Turnout</a> </li>
							<li><a href="#">SwitchYards</a> </li>
						</ul>
				</ul>

				<ul class="nav navbar-nav navbar-right">
					<li class="dropdown active">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Admin <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="/administer">Users</a></li>
							<li><a href="/controller">Controllers</a></li>
						</ul>
							<li><a href={{ url_for( 'logout' ) }}>Logout</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container-fluid">
	{% block content %}Content{% endblock content %}
	</div>

	<div class="container-fluid">
	{% block footer %}Footer{% endblock footer %}
	</div>

<style>
	.clickable {
		cursor: pointer;
	}
</style>
<script>
$(document).ready(function(){
	$('form.crud').on('submit', function(){
		var	form = $(this),
				url = form.attr('action'),
				method = form.attr('method'),
				data = {};

		form.find('[name]').each( function( index, value ) {
			var	field = $(this),
					name = field.attr('name'),
					val = field.val();
		
			console.log(name+value);
			data[name] = val;
		});

//		$.ajax({
// 			url: url,
// 			method: method,
// 			data: data,
// 			success: function(reply){
// 				console.log(data);
// 			}
// 		});
		console.log(data);
	});
});

$(document).ready(function(){
	$(document.body).on('click', 'tr[data-href]', function(){
		console.log( this.dataset.href );
		window.location.href = this.dataset.href;
	});
});
</script>

</body>
</html>
